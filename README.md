# ATC_MiThermometer


Forked from https://github.com/atc1441/ATC_MiThermometer


### 1. Adaptation to reduce energy consumption (Average consumption).
>* Released
>* #### Original Xiaomi LYWSD03MMC (advertisement 1700 ms, measurement 6800 ms):
> * Advertisement: 18.64 uA
> * Connection: > 0.3 mA
>* #### Custom firmware (show 2 sec battery/humidity, comfort on, advertisement 2 sec, measurement 10 sec):
> * Advertisement: 17.28 uA
> * Connection: < 17 uA
### 2. Reading Measurements in Connect Mode.
>* Released
### 3. Memory of settings when changing the battery.
>* Released
### 4. Reading the configuration.
>* Released
### 5. Reading and recovering mi keys.
>* Released
### 6. Loop recording of measurements in Flash
>* TODO
### 7. Temperature or humidity trigger on GPIO PA5 (label on the "reset" pin)
>* TODO
### 8. External control or read GPIO PA5 (label on the "reset" pin)
>* TODO

![SCH](https://github.com/pvvx/ATC_MiThermometer/blob/master/GraphAtc_html.gif) 

![SCH](https://github.com/pvvx/ATC_MiThermometer/blob/master/mi-home-keys.gif) 
